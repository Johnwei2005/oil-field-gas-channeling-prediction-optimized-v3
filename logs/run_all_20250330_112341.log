2025-03-30 11:23:41,877 - __main__ - INFO - 
================================================================================
                              CCUS CO2气窜预测系统全流程启动                               
================================================================================
2025-03-30 11:23:41,877 - __main__ - INFO - 选择的模型类型: gradient_boosting
2025-03-30 11:23:41,877 - __main__ - INFO - 跳过的步骤: 无
2025-03-30 11:23:41,878 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data
2025-03-30 11:23:41,878 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/raw
2025-03-30 11:23:41,878 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/processed
2025-03-30 11:23:41,878 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/models
2025-03-30 11:23:41,878 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/results
2025-03-30 11:23:41,878 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/logs
2025-03-30 11:23:41,878 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/docs
2025-03-30 11:23:41,878 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/notebooks
2025-03-30 11:23:41,878 - __main__ - INFO - 
================================================================================
                                      数据处理                                      
================================================================================
2025-03-30 11:23:42,446 - __main__ - INFO - 开始数据处理...
2025-03-30 11:23:42,446 - data_processor - INFO - 尝试使用 gbk 编码加载数据: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/raw/CO2气窜原始表.csv
2025-03-30 11:23:42,450 - data_processor - INFO - 成功使用 gbk 编码加载数据
2025-03-30 11:23:42,450 - data_processor - INFO - 开始预处理数据
2025-03-30 11:23:42,453 - data_processor - WARNING - 列 地层温度℃ 中发现 2 个异常值
2025-03-30 11:23:42,454 - data_processor - INFO - 已将列 地层温度℃ 中的异常值限制在边界内
2025-03-30 11:23:42,458 - data_processor - WARNING - 列 注气前地层压力mpa 中发现 1 个异常值
2025-03-30 11:23:42,459 - data_processor - INFO - 已将列 注气前地层压力mpa 中的异常值限制在边界内
2025-03-30 11:23:42,462 - data_processor - WARNING - 列 渗透率md 中发现 6 个异常值
2025-03-30 11:23:42,464 - data_processor - INFO - 已将列 渗透率md 中的异常值限制在边界内
2025-03-30 11:23:42,465 - data_processor - WARNING - 列 地层原油粘度mpas 中发现 11 个异常值
2025-03-30 11:23:42,467 - data_processor - INFO - 已将列 地层原油粘度mpas 中的异常值限制在边界内
2025-03-30 11:23:42,468 - data_processor - WARNING - 列 地层原油密度g/cm3 中发现 4 个异常值
2025-03-30 11:23:42,470 - data_processor - INFO - 已将列 地层原油密度g/cm3 中的异常值限制在边界内
2025-03-30 11:23:42,471 - data_processor - WARNING - 列 井组有效厚度m 中发现 6 个异常值
2025-03-30 11:23:42,473 - data_processor - INFO - 已将列 井组有效厚度m 中的异常值限制在边界内
2025-03-30 11:23:42,474 - data_processor - WARNING - 列 井距m 中发现 4 个异常值
2025-03-30 11:23:42,476 - data_processor - INFO - 已将列 井距m 中的异常值限制在边界内
2025-03-30 11:23:42,478 - data_processor - WARNING - 列 孔隙度/% 中发现 3 个异常值
2025-03-30 11:23:42,479 - data_processor - INFO - 已将列 孔隙度/% 中的异常值限制在边界内
2025-03-30 11:23:42,481 - data_processor - WARNING - 列 注入前含油饱和度/% 中发现 1 个异常值
2025-03-30 11:23:42,482 - data_processor - INFO - 已将列 注入前含油饱和度/% 中的异常值限制在边界内
2025-03-30 11:23:42,484 - data_processor - WARNING - 列 pv数 中发现 3 个异常值
2025-03-30 11:23:42,485 - data_processor - INFO - 已将列 pv数 中的异常值限制在边界内
2025-03-30 11:23:42,486 - data_processor - INFO - 已将'注气井压裂'列转换为数值: 是=1, 否=0
2025-03-30 11:23:42,487 - data_processor - INFO - 已将列名从中文转换为英文
2025-03-30 11:23:42,489 - data_processor - INFO - 预处理后的数据已保存到 /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/processed/processed_data.csv
2025-03-30 11:23:42,489 - __main__ - INFO - 数据处理完成，耗时 0.04 秒
2025-03-30 11:23:42,489 - __main__ - INFO - 处理后的数据形状: (70, 14)
2025-03-30 11:23:42,489 - __main__ - INFO - 
================================================================================
                            模型训练 (gradient_boosting)                            
================================================================================
2025-03-30 11:23:42,711 - __main__ - INFO - 开始训练 gradient_boosting 模型...
2025-03-30 11:23:42,711 - main - INFO - 开始训练 gradient_boosting 模型
2025-03-30 11:23:42,711 - data_processor - INFO - 尝试使用 gbk 编码加载数据: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/raw/CO2气窜原始表.csv
2025-03-30 11:23:42,714 - data_processor - INFO - 成功使用 gbk 编码加载数据
2025-03-30 11:23:42,714 - data_processor - INFO - 开始预处理数据
2025-03-30 11:23:42,716 - data_processor - WARNING - 列 地层温度℃ 中发现 2 个异常值
2025-03-30 11:23:42,718 - data_processor - INFO - 已将列 地层温度℃ 中的异常值限制在边界内
2025-03-30 11:23:42,721 - data_processor - WARNING - 列 注气前地层压力mpa 中发现 1 个异常值
2025-03-30 11:23:42,722 - data_processor - INFO - 已将列 注气前地层压力mpa 中的异常值限制在边界内
2025-03-30 11:23:42,726 - data_processor - WARNING - 列 渗透率md 中发现 6 个异常值
2025-03-30 11:23:42,727 - data_processor - INFO - 已将列 渗透率md 中的异常值限制在边界内
2025-03-30 11:23:42,729 - data_processor - WARNING - 列 地层原油粘度mpas 中发现 11 个异常值
2025-03-30 11:23:42,730 - data_processor - INFO - 已将列 地层原油粘度mpas 中的异常值限制在边界内
2025-03-30 11:23:42,732 - data_processor - WARNING - 列 地层原油密度g/cm3 中发现 4 个异常值
2025-03-30 11:23:42,733 - data_processor - INFO - 已将列 地层原油密度g/cm3 中的异常值限制在边界内
2025-03-30 11:23:42,735 - data_processor - WARNING - 列 井组有效厚度m 中发现 6 个异常值
2025-03-30 11:23:42,736 - data_processor - INFO - 已将列 井组有效厚度m 中的异常值限制在边界内
2025-03-30 11:23:42,738 - data_processor - WARNING - 列 井距m 中发现 4 个异常值
2025-03-30 11:23:42,739 - data_processor - INFO - 已将列 井距m 中的异常值限制在边界内
2025-03-30 11:23:42,741 - data_processor - WARNING - 列 孔隙度/% 中发现 3 个异常值
2025-03-30 11:23:42,742 - data_processor - INFO - 已将列 孔隙度/% 中的异常值限制在边界内
2025-03-30 11:23:42,744 - data_processor - WARNING - 列 注入前含油饱和度/% 中发现 1 个异常值
2025-03-30 11:23:42,745 - data_processor - INFO - 已将列 注入前含油饱和度/% 中的异常值限制在边界内
2025-03-30 11:23:42,747 - data_processor - WARNING - 列 pv数 中发现 3 个异常值
2025-03-30 11:23:42,748 - data_processor - INFO - 已将列 pv数 中的异常值限制在边界内
2025-03-30 11:23:42,749 - data_processor - INFO - 已将'注气井压裂'列转换为数值: 是=1, 否=0
2025-03-30 11:23:42,750 - data_processor - INFO - 已将列名从中文转换为英文
2025-03-30 11:23:42,750 - enhanced_features_optimized - WARNING - 缺少创建物理特征所需的列: ['temperature']
2025-03-30 11:23:42,751 - enhanced_features_optimized - INFO - 使用formation_temperature列替代temperature列
2025-03-30 11:23:42,752 - enhanced_features_optimized - INFO - 将列 block 转换为数值类型
2025-03-30 11:23:42,761 - enhanced_features_optimized - WARNING - 在填充均值后仍然存在NaN值，使用0填充
2025-03-30 11:23:42,766 - enhanced_features_optimized - INFO - 创建了12个物理约束特征
2025-03-30 11:23:43,028 - enhanced_features_optimized - INFO - 选择了10个特征: ['formation_temperature', 'oil_viscosity', 'temperature', 'perm_viscosity_ratio', 'pressure_level', 'oil_density', 'mobility_ratio', 'effective_thickness', 'gravity_number', 'oil_saturation']
2025-03-30 11:23:43,264 - main - INFO - 模型训练完成，性能指标:
2025-03-30 11:23:43,265 - main - INFO - R²: -8.6719
2025-03-30 11:23:43,265 - main - INFO - RMSE: 0.4983
2025-03-30 11:23:43,265 - main - INFO - MAE: 0.4132
2025-03-30 11:23:43,281 - residual_model_optimized - INFO - 模型已保存到 /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/models/gradient_boosting_model.pkl
2025-03-30 11:23:43,281 - main - INFO - 模型已保存到 /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/models/gradient_boosting_model.pkl
2025-03-30 11:23:43,281 - __main__ - INFO - 模型训练完成，耗时 0.57 秒
2025-03-30 11:23:43,281 - __main__ - INFO - 
================================================================================
                            模型评估 (gradient_boosting)                            
================================================================================
2025-03-30 11:23:43,281 - __main__ - INFO - 开始模型评估...
2025-03-30 11:23:43,281 - data_processor - INFO - 尝试使用 gbk 编码加载数据: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/raw/CO2气窜原始表.csv
2025-03-30 11:23:43,283 - data_processor - INFO - 成功使用 gbk 编码加载数据
2025-03-30 11:23:43,284 - data_processor - INFO - 开始预处理数据
2025-03-30 11:23:43,286 - data_processor - WARNING - 列 地层温度℃ 中发现 2 个异常值
2025-03-30 11:23:43,287 - data_processor - INFO - 已将列 地层温度℃ 中的异常值限制在边界内
2025-03-30 11:23:43,291 - data_processor - WARNING - 列 注气前地层压力mpa 中发现 1 个异常值
2025-03-30 11:23:43,292 - data_processor - INFO - 已将列 注气前地层压力mpa 中的异常值限制在边界内
2025-03-30 11:23:43,295 - data_processor - WARNING - 列 渗透率md 中发现 6 个异常值
2025-03-30 11:23:43,297 - data_processor - INFO - 已将列 渗透率md 中的异常值限制在边界内
2025-03-30 11:23:43,298 - data_processor - WARNING - 列 地层原油粘度mpas 中发现 11 个异常值
2025-03-30 11:23:43,300 - data_processor - INFO - 已将列 地层原油粘度mpas 中的异常值限制在边界内
2025-03-30 11:23:43,301 - data_processor - WARNING - 列 地层原油密度g/cm3 中发现 4 个异常值
2025-03-30 11:23:43,303 - data_processor - INFO - 已将列 地层原油密度g/cm3 中的异常值限制在边界内
2025-03-30 11:23:43,304 - data_processor - WARNING - 列 井组有效厚度m 中发现 6 个异常值
2025-03-30 11:23:43,306 - data_processor - INFO - 已将列 井组有效厚度m 中的异常值限制在边界内
2025-03-30 11:23:43,307 - data_processor - WARNING - 列 井距m 中发现 4 个异常值
2025-03-30 11:23:43,309 - data_processor - INFO - 已将列 井距m 中的异常值限制在边界内
2025-03-30 11:23:43,311 - data_processor - WARNING - 列 孔隙度/% 中发现 3 个异常值
2025-03-30 11:23:43,312 - data_processor - INFO - 已将列 孔隙度/% 中的异常值限制在边界内
2025-03-30 11:23:43,314 - data_processor - WARNING - 列 注入前含油饱和度/% 中发现 1 个异常值
2025-03-30 11:23:43,315 - data_processor - INFO - 已将列 注入前含油饱和度/% 中的异常值限制在边界内
2025-03-30 11:23:43,317 - data_processor - WARNING - 列 pv数 中发现 3 个异常值
2025-03-30 11:23:43,318 - data_processor - INFO - 已将列 pv数 中的异常值限制在边界内
2025-03-30 11:23:43,319 - data_processor - INFO - 已将'注气井压裂'列转换为数值: 是=1, 否=0
2025-03-30 11:23:43,319 - data_processor - INFO - 已将列名从中文转换为英文
2025-03-30 11:23:43,320 - enhanced_features_optimized - WARNING - 缺少创建物理特征所需的列: ['temperature']
2025-03-30 11:23:43,320 - enhanced_features_optimized - INFO - 使用formation_temperature列替代temperature列
2025-03-30 11:23:43,321 - enhanced_features_optimized - INFO - 将列 block 转换为数值类型
2025-03-30 11:23:43,331 - enhanced_features_optimized - WARNING - 在填充均值后仍然存在NaN值，使用0填充
2025-03-30 11:23:43,336 - enhanced_features_optimized - INFO - 创建了12个物理约束特征
2025-03-30 11:23:43,342 - __main__ - INFO - 模型评估结果:
2025-03-30 11:23:43,342 - __main__ - INFO - R²: -8.6719
2025-03-30 11:23:43,342 - __main__ - INFO - RMSE: 0.4983
2025-03-30 11:23:43,342 - __main__ - INFO - MAE: 0.4132
2025-03-30 11:23:44,026 - __main__ - INFO - 预测图已保存到 /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/results/gradient_boosting_predictions.png
2025-03-30 11:23:44,028 - __main__ - INFO - 预测结果已保存到 /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/results/gradient_boosting_results.csv
2025-03-30 11:23:44,029 - __main__ - INFO - 模型评估完成，耗时 0.75 秒
2025-03-30 11:23:44,029 - __main__ - INFO - 
================================================================================
                            模型微调 (gradient_boosting)                            
================================================================================
2025-03-30 11:23:44,030 - __main__ - ERROR - 模型微调失败: cannot import name 'fine_tune_model' from 'model_fine_tune' (/home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/model_fine_tune.py)
2025-03-30 11:23:44,030 - __main__ - WARNING - 模型微调失败，继续流程
2025-03-30 11:23:44,030 - __main__ - INFO - 
================================================================================
                                     全流程完成                                      
================================================================================
2025-03-30 11:23:44,030 - __main__ - INFO - 日志已保存到: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/logs/run_all_20250330_112341.log
2025-03-30 11:23:44,030 - __main__ - INFO - 可以通过以下命令查看结果:
2025-03-30 11:23:44,030 - __main__ - INFO - 1. 查看训练好的模型: ls -la models/
2025-03-30 11:23:44,030 - __main__ - INFO - 2. 查看评估结果: ls -la results/
2025-03-30 11:23:44,030 - __main__ - INFO - 3. 查看处理后的数据: ls -la data/processed/
