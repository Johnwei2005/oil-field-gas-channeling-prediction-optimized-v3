2025-03-30 11:23:24,664 - __main__ - INFO - 
================================================================================
                              CCUS CO2气窜预测系统全流程启动                               
================================================================================
2025-03-30 11:23:24,664 - __main__ - INFO - 选择的模型类型: random_forest
2025-03-30 11:23:24,664 - __main__ - INFO - 跳过的步骤: 无
2025-03-30 11:23:24,665 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data
2025-03-30 11:23:24,665 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/raw
2025-03-30 11:23:24,665 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/processed
2025-03-30 11:23:24,665 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/models
2025-03-30 11:23:24,665 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/results
2025-03-30 11:23:24,665 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/logs
2025-03-30 11:23:24,665 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/docs
2025-03-30 11:23:24,665 - __main__ - INFO - 确保目录存在: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/notebooks
2025-03-30 11:23:24,665 - __main__ - INFO - 
================================================================================
                                      数据处理                                      
================================================================================
2025-03-30 11:23:25,245 - __main__ - INFO - 开始数据处理...
2025-03-30 11:23:25,245 - data_processor - INFO - 尝试使用 gbk 编码加载数据: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/raw/CO2气窜原始表.csv
2025-03-30 11:23:25,249 - data_processor - INFO - 成功使用 gbk 编码加载数据
2025-03-30 11:23:25,249 - data_processor - INFO - 开始预处理数据
2025-03-30 11:23:25,253 - data_processor - WARNING - 列 地层温度℃ 中发现 2 个异常值
2025-03-30 11:23:25,254 - data_processor - INFO - 已将列 地层温度℃ 中的异常值限制在边界内
2025-03-30 11:23:25,258 - data_processor - WARNING - 列 注气前地层压力mpa 中发现 1 个异常值
2025-03-30 11:23:25,259 - data_processor - INFO - 已将列 注气前地层压力mpa 中的异常值限制在边界内
2025-03-30 11:23:25,262 - data_processor - WARNING - 列 渗透率md 中发现 6 个异常值
2025-03-30 11:23:25,264 - data_processor - INFO - 已将列 渗透率md 中的异常值限制在边界内
2025-03-30 11:23:25,265 - data_processor - WARNING - 列 地层原油粘度mpas 中发现 11 个异常值
2025-03-30 11:23:25,267 - data_processor - INFO - 已将列 地层原油粘度mpas 中的异常值限制在边界内
2025-03-30 11:23:25,269 - data_processor - WARNING - 列 地层原油密度g/cm3 中发现 4 个异常值
2025-03-30 11:23:25,270 - data_processor - INFO - 已将列 地层原油密度g/cm3 中的异常值限制在边界内
2025-03-30 11:23:25,272 - data_processor - WARNING - 列 井组有效厚度m 中发现 6 个异常值
2025-03-30 11:23:25,273 - data_processor - INFO - 已将列 井组有效厚度m 中的异常值限制在边界内
2025-03-30 11:23:25,275 - data_processor - WARNING - 列 井距m 中发现 4 个异常值
2025-03-30 11:23:25,276 - data_processor - INFO - 已将列 井距m 中的异常值限制在边界内
2025-03-30 11:23:25,278 - data_processor - WARNING - 列 孔隙度/% 中发现 3 个异常值
2025-03-30 11:23:25,279 - data_processor - INFO - 已将列 孔隙度/% 中的异常值限制在边界内
2025-03-30 11:23:25,281 - data_processor - WARNING - 列 注入前含油饱和度/% 中发现 1 个异常值
2025-03-30 11:23:25,282 - data_processor - INFO - 已将列 注入前含油饱和度/% 中的异常值限制在边界内
2025-03-30 11:23:25,284 - data_processor - WARNING - 列 pv数 中发现 3 个异常值
2025-03-30 11:23:25,286 - data_processor - INFO - 已将列 pv数 中的异常值限制在边界内
2025-03-30 11:23:25,286 - data_processor - INFO - 已将'注气井压裂'列转换为数值: 是=1, 否=0
2025-03-30 11:23:25,287 - data_processor - INFO - 已将列名从中文转换为英文
2025-03-30 11:23:25,290 - data_processor - INFO - 预处理后的数据已保存到 /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/processed/processed_data.csv
2025-03-30 11:23:25,290 - __main__ - INFO - 数据处理完成，耗时 0.04 秒
2025-03-30 11:23:25,290 - __main__ - INFO - 处理后的数据形状: (70, 14)
2025-03-30 11:23:25,290 - __main__ - INFO - 
================================================================================
                              模型训练 (random_forest)                              
================================================================================
2025-03-30 11:23:25,520 - __main__ - INFO - 开始训练 random_forest 模型...
2025-03-30 11:23:25,520 - main - INFO - 开始训练 random_forest 模型
2025-03-30 11:23:25,520 - data_processor - INFO - 尝试使用 gbk 编码加载数据: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/raw/CO2气窜原始表.csv
2025-03-30 11:23:25,522 - data_processor - INFO - 成功使用 gbk 编码加载数据
2025-03-30 11:23:25,523 - data_processor - INFO - 开始预处理数据
2025-03-30 11:23:25,526 - data_processor - WARNING - 列 地层温度℃ 中发现 2 个异常值
2025-03-30 11:23:25,527 - data_processor - INFO - 已将列 地层温度℃ 中的异常值限制在边界内
2025-03-30 11:23:25,530 - data_processor - WARNING - 列 注气前地层压力mpa 中发现 1 个异常值
2025-03-30 11:23:25,532 - data_processor - INFO - 已将列 注气前地层压力mpa 中的异常值限制在边界内
2025-03-30 11:23:25,535 - data_processor - WARNING - 列 渗透率md 中发现 6 个异常值
2025-03-30 11:23:25,536 - data_processor - INFO - 已将列 渗透率md 中的异常值限制在边界内
2025-03-30 11:23:25,538 - data_processor - WARNING - 列 地层原油粘度mpas 中发现 11 个异常值
2025-03-30 11:23:25,539 - data_processor - INFO - 已将列 地层原油粘度mpas 中的异常值限制在边界内
2025-03-30 11:23:25,541 - data_processor - WARNING - 列 地层原油密度g/cm3 中发现 4 个异常值
2025-03-30 11:23:25,542 - data_processor - INFO - 已将列 地层原油密度g/cm3 中的异常值限制在边界内
2025-03-30 11:23:25,544 - data_processor - WARNING - 列 井组有效厚度m 中发现 6 个异常值
2025-03-30 11:23:25,546 - data_processor - INFO - 已将列 井组有效厚度m 中的异常值限制在边界内
2025-03-30 11:23:25,547 - data_processor - WARNING - 列 井距m 中发现 4 个异常值
2025-03-30 11:23:25,549 - data_processor - INFO - 已将列 井距m 中的异常值限制在边界内
2025-03-30 11:23:25,551 - data_processor - WARNING - 列 孔隙度/% 中发现 3 个异常值
2025-03-30 11:23:25,552 - data_processor - INFO - 已将列 孔隙度/% 中的异常值限制在边界内
2025-03-30 11:23:25,554 - data_processor - WARNING - 列 注入前含油饱和度/% 中发现 1 个异常值
2025-03-30 11:23:25,555 - data_processor - INFO - 已将列 注入前含油饱和度/% 中的异常值限制在边界内
2025-03-30 11:23:25,557 - data_processor - WARNING - 列 pv数 中发现 3 个异常值
2025-03-30 11:23:25,558 - data_processor - INFO - 已将列 pv数 中的异常值限制在边界内
2025-03-30 11:23:25,559 - data_processor - INFO - 已将'注气井压裂'列转换为数值: 是=1, 否=0
2025-03-30 11:23:25,560 - data_processor - INFO - 已将列名从中文转换为英文
2025-03-30 11:23:25,560 - enhanced_features_optimized - WARNING - 缺少创建物理特征所需的列: ['temperature']
2025-03-30 11:23:25,561 - enhanced_features_optimized - INFO - 使用formation_temperature列替代temperature列
2025-03-30 11:23:25,561 - enhanced_features_optimized - INFO - 将列 block 转换为数值类型
2025-03-30 11:23:25,571 - enhanced_features_optimized - WARNING - 在填充均值后仍然存在NaN值，使用0填充
2025-03-30 11:23:25,577 - enhanced_features_optimized - INFO - 创建了12个物理约束特征
2025-03-30 11:23:25,841 - enhanced_features_optimized - INFO - 选择了10个特征: ['formation_temperature', 'oil_viscosity', 'temperature', 'perm_viscosity_ratio', 'mobility_ratio', 'pressure_level', 'oil_density', 'effective_thickness', 'gravity_number', 'oil_saturation']
2025-03-30 11:23:26,090 - main - INFO - 模型训练完成，性能指标:
2025-03-30 11:23:26,091 - main - INFO - R²: -9585.0093
2025-03-30 11:23:26,091 - main - INFO - RMSE: 15.6881
2025-03-30 11:23:26,091 - main - INFO - MAE: 3.5961
2025-03-30 11:23:26,146 - residual_model_optimized - INFO - 模型已保存到 /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/models/random_forest_model.pkl
2025-03-30 11:23:26,146 - main - INFO - 模型已保存到 /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/models/random_forest_model.pkl
2025-03-30 11:23:26,146 - __main__ - INFO - 模型训练完成，耗时 0.63 秒
2025-03-30 11:23:26,146 - __main__ - INFO - 
================================================================================
                              模型评估 (random_forest)                              
================================================================================
2025-03-30 11:23:26,146 - __main__ - INFO - 开始模型评估...
2025-03-30 11:23:26,146 - data_processor - INFO - 尝试使用 gbk 编码加载数据: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/data/raw/CO2气窜原始表.csv
2025-03-30 11:23:26,149 - data_processor - INFO - 成功使用 gbk 编码加载数据
2025-03-30 11:23:26,149 - data_processor - INFO - 开始预处理数据
2025-03-30 11:23:26,152 - data_processor - WARNING - 列 地层温度℃ 中发现 2 个异常值
2025-03-30 11:23:26,153 - data_processor - INFO - 已将列 地层温度℃ 中的异常值限制在边界内
2025-03-30 11:23:26,157 - data_processor - WARNING - 列 注气前地层压力mpa 中发现 1 个异常值
2025-03-30 11:23:26,158 - data_processor - INFO - 已将列 注气前地层压力mpa 中的异常值限制在边界内
2025-03-30 11:23:26,162 - data_processor - WARNING - 列 渗透率md 中发现 6 个异常值
2025-03-30 11:23:26,163 - data_processor - INFO - 已将列 渗透率md 中的异常值限制在边界内
2025-03-30 11:23:26,165 - data_processor - WARNING - 列 地层原油粘度mpas 中发现 11 个异常值
2025-03-30 11:23:26,166 - data_processor - INFO - 已将列 地层原油粘度mpas 中的异常值限制在边界内
2025-03-30 11:23:26,168 - data_processor - WARNING - 列 地层原油密度g/cm3 中发现 4 个异常值
2025-03-30 11:23:26,169 - data_processor - INFO - 已将列 地层原油密度g/cm3 中的异常值限制在边界内
2025-03-30 11:23:26,171 - data_processor - WARNING - 列 井组有效厚度m 中发现 6 个异常值
2025-03-30 11:23:26,173 - data_processor - INFO - 已将列 井组有效厚度m 中的异常值限制在边界内
2025-03-30 11:23:26,174 - data_processor - WARNING - 列 井距m 中发现 4 个异常值
2025-03-30 11:23:26,176 - data_processor - INFO - 已将列 井距m 中的异常值限制在边界内
2025-03-30 11:23:26,178 - data_processor - WARNING - 列 孔隙度/% 中发现 3 个异常值
2025-03-30 11:23:26,179 - data_processor - INFO - 已将列 孔隙度/% 中的异常值限制在边界内
2025-03-30 11:23:26,181 - data_processor - WARNING - 列 注入前含油饱和度/% 中发现 1 个异常值
2025-03-30 11:23:26,182 - data_processor - INFO - 已将列 注入前含油饱和度/% 中的异常值限制在边界内
2025-03-30 11:23:26,184 - data_processor - WARNING - 列 pv数 中发现 3 个异常值
2025-03-30 11:23:26,185 - data_processor - INFO - 已将列 pv数 中的异常值限制在边界内
2025-03-30 11:23:26,186 - data_processor - INFO - 已将'注气井压裂'列转换为数值: 是=1, 否=0
2025-03-30 11:23:26,187 - data_processor - INFO - 已将列名从中文转换为英文
2025-03-30 11:23:26,187 - enhanced_features_optimized - WARNING - 缺少创建物理特征所需的列: ['temperature']
2025-03-30 11:23:26,187 - enhanced_features_optimized - INFO - 使用formation_temperature列替代temperature列
2025-03-30 11:23:26,188 - enhanced_features_optimized - INFO - 将列 block 转换为数值类型
2025-03-30 11:23:26,198 - enhanced_features_optimized - WARNING - 在填充均值后仍然存在NaN值，使用0填充
2025-03-30 11:23:26,204 - enhanced_features_optimized - INFO - 创建了12个物理约束特征
2025-03-30 11:23:26,223 - __main__ - INFO - 模型评估结果:
2025-03-30 11:23:26,223 - __main__ - INFO - R²: -9585.0093
2025-03-30 11:23:26,223 - __main__ - INFO - RMSE: 15.6881
2025-03-30 11:23:26,223 - __main__ - INFO - MAE: 3.5961
2025-03-30 11:23:26,934 - __main__ - INFO - 预测图已保存到 /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/results/random_forest_predictions.png
2025-03-30 11:23:26,936 - __main__ - INFO - 预测结果已保存到 /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/results/random_forest_results.csv
2025-03-30 11:23:26,936 - __main__ - INFO - 模型评估完成，耗时 0.79 秒
2025-03-30 11:23:26,936 - __main__ - INFO - 
================================================================================
                              模型微调 (random_forest)                              
================================================================================
2025-03-30 11:23:26,937 - __main__ - ERROR - 模型微调失败: cannot import name 'fine_tune_model' from 'model_fine_tune' (/home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/model_fine_tune.py)
2025-03-30 11:23:26,937 - __main__ - WARNING - 模型微调失败，继续流程
2025-03-30 11:23:26,937 - __main__ - INFO - 
================================================================================
                                     全流程完成                                      
================================================================================
2025-03-30 11:23:26,938 - __main__ - INFO - 日志已保存到: /home/ubuntu/workspace/oil-field-gas-channeling-prediction-optimized-v3/logs/run_all_20250330_112324.log
2025-03-30 11:23:26,938 - __main__ - INFO - 可以通过以下命令查看结果:
2025-03-30 11:23:26,938 - __main__ - INFO - 1. 查看训练好的模型: ls -la models/
2025-03-30 11:23:26,938 - __main__ - INFO - 2. 查看评估结果: ls -la results/
2025-03-30 11:23:26,938 - __main__ - INFO - 3. 查看处理后的数据: ls -la data/processed/
